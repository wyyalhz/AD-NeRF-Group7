# AD-NeRF 评估系统交付说明（组长专用）

## 📦 交付内容概览

本文件为组长专用，简明介绍本次交付的 AD-NeRF 评估系统，包含所有核心信息、使用方法、项目结构和常见问题，无需查阅其他文档即可直接了解和使用。

---

## 1. 评估系统简介

- 本系统用于评估 AD-NeRF 说话人头部合成模型的输出质量。
- 所有代码、注释、文档均为中文。
- 已移除 LSE（唇音同步）相关内容，无需担心依赖或配置问题。
- 支持的评估指标：
  - **PSNR**（峰值信噪比）：像素级相似度
  - **SSIM**（结构相似性）：视觉感知质量
  - **FID**（分布距离）：整体真实感
  - **NIOE**（归一化眼间距误差）：面部细节准确性

---

## 2. 一键使用方法

### 环境准备（仅需一次）
```bash
conda activate adnerf_pre
pip install pytorch-fid face-alignment matplotlib
```

### 运行评估
```bash
# 推荐：评估所有指标
python AD-NeRF/evaluation/evaluate.py --subject Obama --metrics all

# 仅评估图像质量
python AD-NeRF/evaluation/evaluate.py --subject Obama --metrics psnr ssim fid
```

### 查看结果
- 结果保存在 `evaluation/results/Obama/evaluation_report.txt`
- 可视化图表在同目录下 `metrics_plot.png`

---

## 3. 评估原理与适用范围

- **真值（Ground Truth）**：原始视频帧，作为参考答案。
- **生成图像**：模型根据音频生成的新帧。
- **评估**：比较生成图像与真值的接近程度，量化模型效果。

> ⚠️ 本系统适用于“重建原始视频”场景（即输入音频与真值视频内容一致）。如需评估跨语言（如让 Obama 说中文），需有对应语言的真值视频，否则指标不适用。

---

## 4. 项目结构

```
evaluation/
├── ADNeRF_评估交付说明_组长专用.md   # 本文件（唯一需要交付的说明）
├── evaluate.py               # 主评估脚本（中文）
├── metrics/                  # 指标实现（中文）
│   ├── image_quality.py      # PSNR, SSIM, FID
│   └── landmark_metrics.py   # NIOE
├── results/                  # 评估结果
│   └── Obama/
│       ├── evaluation_report.txt
│       └── metrics_plot.png
└── README_CN.md              # 详细技术文档（可选查阅）
```

---

## 5. 示例结果

```
============================================================
AD-NeRF 评估报告
============================================================
主题: Obama
时间: 2025-12-23 10:30:45
帧数: 250

------------------------------------------------------------
图像质量指标
------------------------------------------------------------
PSNR:     32.45 ± 1.23 dB    [优秀]
SSIM:      0.9234 ± 0.0156   [优秀]
FID:      15.67               [良好]

------------------------------------------------------------
面部特征点指标
------------------------------------------------------------
NIOE:      0.0287 ± 0.0045   [优秀]
处理帧数: 248/250
============================================================
```

---

## 6. 常见问题与支持

- **LSE 指标已移除**：无需担心唇音同步依赖。
- **评估慢/内存不足**：可减小 batch_size 或用 CPU。
- **批量评估**：见下方脚本。

```bash
for subject in Obama Jae-in Lieu Macron; do
    python evaluation/evaluate.py --subject $subject --metrics all
done
```

- **详细技术说明**：如需了解原理或扩展功能，可查阅 `evaluation/README_CN.md`。

---

## 7. 交付清单

- [x] PSNR, SSIM, FID, NIOE 四大指标
- [x] 全中文代码与注释
- [x] 详细与简明文档
- [x] 可视化结果
- [x] LSE 相关内容已全部移除

---

**本文件为唯一交付说明，组长可直接查阅和转发，无需其他文档。**
